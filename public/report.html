<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Отчёты</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">

  <h1>Отчёты</h1>

  <!-- ВЫБОР МЕСЯЦА ОТЧЁТА -->
  <div class="block">
    <h2>Период отчёта</h2>
    <label>Месяц:
      <input type="month" id="reportMonth">
    </label>
  </div>

  <!-- ПЛАН МЕСЯЦА -->
  <div class="block">
    <h2>План месяца</h2>

    <table class="simple">
      <tr><th>Показатель</th><th>Значение</th></tr>
      <tr><td>План месяца</td><td id="planValueCell">Загрузка...</td></tr>
      <tr><td>Выполнено</td><td id="planDoneCell">Загрузка...</td></tr>
      <tr><td>Осталось</td><td id="planLeftCell">Загрузка...</td></tr>
      <tr><td>% выполнения</td><td id="planPctCell">Загрузка...</td></tr>
      <tr><td>Необходимо в день</td><td id="planDailyNeedCell">Загрузка...</td></tr>
    </table>

    <form id="planForm">
      <label>Изменить план:
        <input type="number" id="planValue" required>
      </label>
      <button type="submit">Сохранить план</button>
    </form>
  </div>

  <!-- ПРОГНОЗ МЕСЯЦА -->
  <div class="block">
    <h2>Прогноз месяца</h2>
    <div id="forecastBlock">Загрузка...</div>
  </div>

  <!-- ВЫПОЛНЕНИЕ ПЛАНА ПО НЕДЕЛЯМ -->
  <div class="block">
    <h2>Выполнение плана по неделям</h2>
    <div id="weeklyPlan">Загрузка...</div>
  </div>

  <!-- СТАТИСТИКА ПО ДНЯМ НЕДЕЛИ -->
  <div class="block">
    <h2>Статистика по дням недели</h2>
    <div id="weekdayStats">Загрузка...</div>
  </div>

  <!-- СРАВНЕНИЕ С ПРОШЛЫМ ГОДОМ -->
  <div class="block">
    <h2>Сравнение с прошлым годом</h2>
    <div id="compareLastYear">Загрузка...</div>
  </div>

  <!-- МЕТРИКИ ОФИЦИАНТОВ -->
  <div class="block">
    <h2>Метрики по официантам</h2>

    <div class="row">
      <label>Период:
        <select id="waiterPeriod">
          <option value="w1">Неделя 1</option>
          <option value="w2">Неделя 2</option>
          <option value="w3">Неделя 3</option>
          <option value="w4">Неделя 4</option>
          <option value="w5">Неделя 5</option>
          <option value="month">Месяц</option>
        </select>
      </label>

      <label>Официант:
        <select id="waiterFilter">
          <option value="">Все</option>
        </select>
      </label>

      <button type="button" id="exportWaitersCsv">
        Экспорт CSV
      </button>
    </div>

    <div id="waiterStats">Загрузка...</div>
    <div id="waiterRatings"></div>
  </div>

  <div class="block">
    <h2>Резервная копия</h2>
    <a href="/download-db" class="btn">Скачать базу (stats.sqlite)</a>
  </div>

  <a href="index.html" class="btn">Назад</a>

</div>

<script src="script.js"></script>
</body>
</html>
